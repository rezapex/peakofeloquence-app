import { unref, useRuntimeConfig } from "#imports";
import { componentNames } from "#build/og-image-component-names.mjs";
export function normaliseOgImageOptions(_options) {
  const options = { ...unref(_options) };
  if (options.static)
    options.cache = options.cache || options.static;
  if (!options.provider)
    options.provider = "satori";
  const { runtimeSatori } = useRuntimeConfig()["nuxt-og-image"];
  if (options.provider === "satori" && !runtimeSatori)
    options.provider = "browser";
  if (options.component && componentNames) {
    const originalName = options.component;
    for (const component of componentNames) {
      if (component.pascalName.endsWith(originalName) || component.kebabName.endsWith(originalName)) {
        options.component = component.pascalName;
        options.componentHash = component.hash;
        break;
      }
    }
  }
  return options;
}

import { ref, inject } from "vue";
import { createSharedComposable } from "@vueuse/core";
export const modalInjectionKey = Symbol("nuxt-ui.modal");
function _useModal() {
  const modalState = inject(modalInjectionKey);
  const isOpen = ref(false);
  function open(component, props) {
    modalState.value = {
      component,
      props: props ?? {}
    };
    isOpen.value = true;
  }
  function close() {
    isOpen.value = false;
    modalState.value = {
      component: "div",
      props: {}
    };
  }
  function patch(props) {
    modalState.value = {
      ...modalState.value,
      props: {
        ...modalState.value.props,
        ...props
      }
    };
  }
  return {
    isOpen,
    open,
    close,
    patch
  };
}
export const useModal = createSharedComposable(_useModal);

{"parsed":{"_id":"content:dev:section-to-md.py","body":"import re\n\ndef extract_sections_to_markdown(input_text, output_filename):\n    # Regex pattern to match the detailed contents entries.\n    # The pattern looks for a number, followed by a description, ending with a page number.\n    pattern = re.compile(r\"(\\d+\\.\\d+) ([\\s\\S]+?) — p\\. (\\d+)\")\n\n    # Find all matches in the text\n    matches = pattern.findall(input_text)\n\n    # Open a file to write the Markdown content\n    with open(output_filename, \"w\") as file:\n        file.write(\"# Detailed Contents of Nahjulbalagha\\n\\n\")\n        for match in matches:\n            section_number, description, page_number = match\n            # Write to file in markdown format\n            file.write(f\"## Section {section_number}: {description.strip()}\\n\")\n            file.write(f\"- **Start Page:** {page_number}\\n\\n\")\n\n# Dummy text string (replace with actual text from the PDF)\ntext = \"\"\"\n1.1 Creation of sky, earth, angels, Adam, and prophets, and the hajj — p. 106\n1.2 Following Ṣiffīn, state of the people before Muḥammad, praise for the Prophet’s family — p. 114\n1.3 'The Roar of the Camel Stallion' (Shiqshiqiyyah), on the caliphate — p. 118\n\"\"\"\n\n# Output filename\noutput_md_file = \"nahjulbalagha_contents.md\"\n\n# Call the function with the text and output file name\nextract_sections_to_markdown(text, output_md_file)\n\nprint(f\"Markdown content has been written to {output_md_file}\")\n"},"hash":"hgxCnDqmu6"}
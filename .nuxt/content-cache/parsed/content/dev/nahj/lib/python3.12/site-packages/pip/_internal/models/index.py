{"parsed":{"_id":"content:dev:nahj:lib:python3.12:site-packages:pip:_internal:models:index.py","body":"import urllib.parse\n\n\nclass PackageIndex:\n    \"\"\"Represents a Package Index and provides easier access to endpoints\"\"\"\n\n    __slots__ = [\"url\", \"netloc\", \"simple_url\", \"pypi_url\", \"file_storage_domain\"]\n\n    def __init__(self, url: str, file_storage_domain: str) -> None:\n        super().__init__()\n        self.url = url\n        self.netloc = urllib.parse.urlsplit(url).netloc\n        self.simple_url = self._url_for_path(\"simple\")\n        self.pypi_url = self._url_for_path(\"pypi\")\n\n        # This is part of a temporary hack used to block installs of PyPI\n        # packages which depend on external urls only necessary until PyPI can\n        # block such packages themselves\n        self.file_storage_domain = file_storage_domain\n\n    def _url_for_path(self, path: str) -> str:\n        return urllib.parse.urljoin(self.url, path)\n\n\nPyPI = PackageIndex(\"https://pypi.org/\", file_storage_domain=\"files.pythonhosted.org\")\nTestPyPI = PackageIndex(\n    \"https://test.pypi.org/\", file_storage_domain=\"test-files.pythonhosted.org\"\n)\n"},"hash":"SrF6Ct9Ua0"}
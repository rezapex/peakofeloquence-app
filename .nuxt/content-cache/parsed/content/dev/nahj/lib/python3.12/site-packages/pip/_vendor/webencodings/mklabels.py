{"parsed":{"_id":"content:dev:nahj:lib:python3.12:site-packages:pip:_vendor:webencodings:mklabels.py","body":"\"\"\"\n\n    webencodings.mklabels\n    ~~~~~~~~~~~~~~~~~~~~~\n\n    Regenarate the webencodings.labels module.\n\n    :copyright: Copyright 2012 by Simon Sapin\n    :license: BSD, see LICENSE for details.\n\n\"\"\"\n\nimport json\ntry:\n    from urllib import urlopen\nexcept ImportError:\n    from urllib.request import urlopen\n\n\ndef assert_lower(string):\n    assert string == string.lower()\n    return string\n\n\ndef generate(url):\n    parts = ['''\\\n\"\"\"\n\n    webencodings.labels\n    ~~~~~~~~~~~~~~~~~~~\n\n    Map encoding labels to their name.\n\n    :copyright: Copyright 2012 by Simon Sapin\n    :license: BSD, see LICENSE for details.\n\n\"\"\"\n\n# XXX Do not edit!\n# This file is automatically generated by mklabels.py\n\nLABELS = {\n''']\n    labels = [\n        (repr(assert_lower(label)).lstrip('u'),\n         repr(encoding['name']).lstrip('u'))\n        for category in json.loads(urlopen(url).read().decode('ascii'))\n        for encoding in category['encodings']\n        for label in encoding['labels']]\n    max_len = max(len(label) for label, name in labels)\n    parts.extend(\n        '    %s:%s %s,\\n' % (label, ' ' * (max_len - len(label)), name)\n        for label, name in labels)\n    parts.append('}')\n    return ''.join(parts)\n\n\nif __name__ == '__main__':\n    print(generate('http://encoding.spec.whatwg.org/encodings.json'))\n"},"hash":"q0KZiKi7uc"}
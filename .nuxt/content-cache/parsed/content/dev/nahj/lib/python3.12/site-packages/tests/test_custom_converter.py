{"parsed":{"_id":"content:dev:nahj:lib:python3.12:site-packages:tests:test_custom_converter.py","body":"from markdownify import MarkdownConverter\nfrom bs4 import BeautifulSoup\n\n\nclass ImageBlockConverter(MarkdownConverter):\n    \"\"\"\n    Create a custom MarkdownConverter that adds two newlines after an image\n    \"\"\"\n    def convert_img(self, el, text, convert_as_inline):\n        return super().convert_img(el, text, convert_as_inline) + '\\n\\n'\n\n\ndef test_img():\n    # Create shorthand method for conversion\n    def md(html, **options):\n        return ImageBlockConverter(**options).convert(html)\n\n    assert md('<img src=\"/path/to/img.jpg\" alt=\"Alt text\" title=\"Optional title\" />') == '![Alt text](/path/to/img.jpg \"Optional title\")\\n\\n'\n    assert md('<img src=\"/path/to/img.jpg\" alt=\"Alt text\" />') == '![Alt text](/path/to/img.jpg)\\n\\n'\n\n\ndef test_soup():\n    html = '<b>test</b>'\n    soup = BeautifulSoup(html, 'html.parser')\n    assert MarkdownConverter().convert_soup(soup) == '**test**'\n"},"hash":"qyU8awevBm"}
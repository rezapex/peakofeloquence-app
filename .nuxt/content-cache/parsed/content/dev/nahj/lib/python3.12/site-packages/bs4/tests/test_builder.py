{"parsed":{"_id":"content:dev:nahj:lib:python3.12:site-packages:bs4:tests:test_builder.py","body":"import pytest\nfrom unittest.mock import patch\nfrom bs4.builder import DetectsXMLParsedAsHTML\n\nclass TestDetectsXMLParsedAsHTML(object):\n\n    @pytest.mark.parametrize(\n        \"markup,looks_like_xml\",\n        [(\"No xml declaration\", False),\n         (\"<html>obviously HTML</html\", False),\n         (\"<?xml ><html>Actually XHTML</html>\", False),\n         (\"<?xml>            <    html>Tricky XHTML</html>\", False),\n         (\"<?xml ><no-html-tag>\", True),\n        ]\n    )\n    def test_warn_if_markup_looks_like_xml(self, markup, looks_like_xml):\n        # Test of our ability to guess at whether markup looks XML-ish\n        # _and_ not HTML-ish.\n        with patch('bs4.builder.DetectsXMLParsedAsHTML._warn') as mock:\n            for data in markup, markup.encode('utf8'):\n                result = DetectsXMLParsedAsHTML.warn_if_markup_looks_like_xml(\n                    data\n                )\n                assert result == looks_like_xml\n                if looks_like_xml:\n                    assert mock.called\n                else:\n                    assert not mock.called\n                mock.reset_mock()\n"},"hash":"0zg5lUChVX"}
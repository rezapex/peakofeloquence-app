{"version":3,"file":"ProseCodeButton-B3zIHJoO.js","sources":["../../../../node_modules/@nuxt/ui/dist/runtime/composables/useCopyToClipboard.mjs","../../../../node_modules/@nuxt/ui-pro/modules/pro/runtime/components/global/prose/ProseCodeButton.vue"],"sourcesContent":["import { useClipboard } from \"@vueuse/core\";\nimport { useToast } from \"./useToast.mjs\";\nexport function useCopyToClipboard(options = {}) {\n  const { copy: copyToClipboard, isSupported } = useClipboard();\n  const toast = useToast();\n  function copy(text, success = {}, failure = {}) {\n    if (!isSupported) {\n      return;\n    }\n    copyToClipboard(text).then(() => {\n      if (!success.title && !success.description) {\n        return;\n      }\n      toast.add({ ...success, ...options });\n    }, function(e) {\n      toast.add({\n        ...failure,\n        description: failure.description || e.message,\n        ...options\n      });\n    });\n  }\n  return {\n    copy\n  };\n}\n","<script setup lang=\"ts\">\nconst props = defineProps({\n  code: {\n    type: String,\n    required: true\n  }\n})\n\nconst config = {\n  icon: {\n    copy: 'i-heroicons-clipboard-document',\n    copied: 'i-heroicons-clipboard-document-check'\n  }\n}\n\nconst { ui } = useUI('content.prose.code.button', undefined, config, undefined, true)\nconst clipboard = useCopyToClipboard({ timeout: 2000 })\nconst icon = ref(ui.value.icon.copy)\n\n// Methods\n\nfunction copy () {\n  clipboard.copy(props.code, { title: 'Copied to clipboard!' })\n\n  icon.value = ui.value.icon.copied\n\n  setTimeout(() => {\n    icon.value = ui.value.icon.copy\n  }, 2000)\n}\n</script>\n\n<template>\n  <UButton\n    :icon=\"icon\"\n    color=\"gray\"\n    variant=\"link\"\n    size=\"xs\"\n    aria-label=\"Copy code to clipboard\"\n    tabindex=\"-1\"\n    @click=\"copy\"\n  />\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEO,SAAS,mBAAmB,UAAU,IAAI;AAC/C,QAAM,EAAE,MAAM,iBAAiB,YAAa,IAAG,aAAY;AAC3D,QAAM,QAAQ;AACd,WAAS,KAAK,MAAM,UAAU,CAAA,GAAI,UAAU,CAAA,GAAI;AAC9C,QAAI,CAAC,aAAa;AAChB;AAAA,IACD;AACD,oBAAgB,IAAI,EAAE,KAAK,MAAM;AAC/B,UAAI,CAAC,QAAQ,SAAS,CAAC,QAAQ,aAAa;AAC1C;AAAA,MACD;AACD,YAAM,IAAI,EAAE,GAAG,SAAS,GAAG,QAAS,CAAA;AAAA,IACrC,GAAE,SAAS,GAAG;AACb,YAAM,IAAI;AAAA,QACR,GAAG;AAAA,QACH,aAAa,QAAQ,eAAe,EAAE;AAAA,QACtC,GAAG;AAAA,MACX,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AACD,SAAO;AAAA,IACL;AAAA,EACJ;AACA;;;;;;;;;;;ACxBA,UAAM,QAAQ;AAOd,UAAM,SAAS;AAAA,MACb,MAAM;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,IAAA;AAGI,UAAA,EAAE,OAAO,MAAM,6BAA6B,QAAW,QAAQ,QAAW,IAAI;AACpF,UAAM,YAAY,mBAAmB,EAAE,SAAS,IAAM,CAAA;AACtD,UAAM,OAAO,IAAI,GAAG,MAAM,KAAK,IAAI;AAInC,aAAS,OAAQ;AACf,gBAAU,KAAK,MAAM,MAAM,EAAE,OAAO,wBAAwB;AAEvD,WAAA,QAAQ,GAAG,MAAM,KAAK;AAE3B,iBAAW,MAAM;AACV,aAAA,QAAQ,GAAG,MAAM,KAAK;AAAA,SAC1B,GAAI;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0,1]}
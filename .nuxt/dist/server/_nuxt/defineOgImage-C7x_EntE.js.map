{"version":3,"file":"defineOgImage-C7x_EntE.js","sources":["../../../../node_modules/nuxt-site-config/dist/runtime/composables/useNitroOrigin.mjs","../../../../node_modules/nuxt-site-config/dist/runtime/composables/utils.mjs","../../../../virtual:nuxt:/Users/rezajafar/peakofeloquence-app/.nuxt/og-image-component-names.mjs","../../../../node_modules/nuxt-og-image/dist/runtime/composables/util.mjs","../../../../node_modules/nuxt-og-image/dist/runtime/composables/defineOgImage.mjs"],"sourcesContent":["import { withoutProtocol } from \"ufo\";\nimport { getRequestHost, getRequestProtocol } from \"h3\";\nimport { useRequestEvent } from \"#imports\";\nexport function useNitroOrigin(e) {\n  if (process.server) {\n    e = e || useRequestEvent();\n    const cert = process.env.NITRO_SSL_CERT;\n    const key = process.env.NITRO_SSL_KEY;\n    let host = process.env.NITRO_HOST || process.env.HOST || false;\n    let port;\n    if (process.dev)\n      port = process.env.NITRO_PORT || process.env.PORT || \"3000\";\n    let protocol = cert && key || !process.dev ? \"https\" : \"http\";\n    if (!e) {\n      if ((process.dev || process.env.prerender) && process.env.NUXT_VITE_NODE_OPTIONS) {\n        const origin = JSON.parse(process.env.NUXT_VITE_NODE_OPTIONS).baseURL.replace(\"/__nuxt_vite_node__\", \"\");\n        host = withoutProtocol(origin);\n        protocol = origin.includes(\"https\") ? \"https\" : \"http\";\n      }\n    } else {\n      host = getRequestHost(e, { xForwardedHost: true }) || host;\n      protocol = getRequestProtocol(e, { xForwardedProto: true }) || protocol;\n    }\n    if (typeof host === \"string\" && host.includes(\":\")) {\n      port = host.split(\":\").pop();\n      host = host.split(\":\")[0];\n    }\n    port = port ? `:${port}` : \"\";\n    return `${protocol}://${host}${port}/`;\n  }\n  if (process.client)\n    return window.location.origin;\n  return \"\";\n}\n","import { fixSlashes, resolveSitePath } from \"site-config-stack\";\nimport { computed, unref, useNitroOrigin, useRuntimeConfig, useSiteConfig } from \"#imports\";\nexport function createSitePathResolver(options = {}) {\n  const siteConfig = useSiteConfig();\n  const nitroOrigin = useNitroOrigin();\n  const nuxtBase = useRuntimeConfig().app.baseURL || \"/\";\n  return (path) => {\n    return computed(() => resolveSitePath(unref(path), {\n      absolute: unref(options.absolute),\n      withBase: unref(options.withBase),\n      siteUrl: unref(options.canonical) !== false || process.env.prerender ? siteConfig.url : nitroOrigin,\n      trailingSlash: siteConfig.trailingSlash,\n      base: nuxtBase\n    }));\n  };\n}\nexport function withSiteTrailingSlash(path) {\n  const siteConfig = useSiteConfig();\n  return computed(() => fixSlashes(siteConfig.trailingSlash, unref(path)));\n}\nexport function withSiteUrl(path, options = {}) {\n  const siteConfig = useSiteConfig();\n  const nitroOrigin = useNitroOrigin();\n  const base = useRuntimeConfig().app.baseURL || \"/\";\n  return computed(() => {\n    return resolveSitePath(unref(path), {\n      absolute: true,\n      siteUrl: unref(options.canonical) !== false || process.env.prerender ? siteConfig.url : nitroOrigin,\n      trailingSlash: siteConfig.trailingSlash,\n      base,\n      withBase: unref(options.withBase)\n    });\n  });\n}\n","export const componentNames = [{\"hash\":\"xN09LzlvZ8\",\"pascalName\":\"OgImageSaas\",\"kebabName\":\"og-image-saas\"},{\"hash\":\"eInRfPPznm\",\"pascalName\":\"OgImageTemplateFallback\",\"kebabName\":\"og-image-template-fallback\"}]","import { unref, useRuntimeConfig } from \"#imports\";\nimport { componentNames } from \"#build/og-image-component-names.mjs\";\nexport function normaliseOgImageOptions(_options) {\n  const options = { ...unref(_options) };\n  if (options.static)\n    options.cache = options.cache || options.static;\n  if (!options.provider)\n    options.provider = \"satori\";\n  const { runtimeSatori } = useRuntimeConfig()[\"nuxt-og-image\"];\n  if (options.provider === \"satori\" && !runtimeSatori)\n    options.provider = \"browser\";\n  if (options.component && componentNames) {\n    const originalName = options.component;\n    for (const component of componentNames) {\n      if (component.pascalName.endsWith(originalName) || component.kebabName.endsWith(originalName)) {\n        options.component = component.pascalName;\n        options.componentHash = component.hash;\n        break;\n      }\n    }\n  }\n  return options;\n}\n","import { joinURL } from \"ufo\";\nimport { defu } from \"defu\";\nimport { normaliseOgImageOptions } from \"./util.mjs\";\nimport { useRouter, useRuntimeConfig, useServerHead, withSiteUrl } from \"#imports\";\nexport function defineOgImageScreenshot(options = {}) {\n  const router = useRouter();\n  const route = router.currentRoute.value?.path || \"\";\n  return defineOgImage({\n    alt: `Web page screenshot${route ? ` of ${route}` : \"\"}.`,\n    provider: \"browser\",\n    component: \"PageScreenshot\",\n    // this is an alias\n    cache: true,\n    ...options\n  });\n}\nexport function defineOgImageStatic(options = {}) {\n  return defineOgImageCached(options);\n}\nexport function defineOgImageCached(options = {}) {\n  const { defaults } = useRuntimeConfig()[\"nuxt-og-image\"];\n  if (!defaults.cacheTtl && !options.cacheTtl)\n    options.cacheTtl = 60 * 60 * 24 * 1e3 * 7;\n  return defineOgImage({\n    cache: true,\n    ...options\n  });\n}\nexport function defineOgImageWithoutCache(options = {}) {\n  return defineOgImage({\n    ...options,\n    cache: false,\n    cacheTtl: 0\n  });\n}\nexport function defineOgImageDynamic(options = {}) {\n  return defineOgImageWithoutCache(options);\n}\nexport async function defineOgImage(_options = {}) {\n  if (import.meta.server) {\n    if (_options.url) {\n      const type = _options.url.endsWith(\".png\") ? \"image/png\" : \"image/jpeg\";\n      const meta2 = [\n        { property: \"og:image\", content: _options.url },\n        { property: \"og:image:type\", content: type },\n        { name: \"twitter:card\", content: \"summary_large_image\" },\n        { name: \"twitter:image:src\", content: _options.url }\n      ];\n      if (_options.width) {\n        meta2.push({ property: \"og:image:width\", content: _options.width });\n        meta2.push({ name: \"twitter:image:width\", content: _options.width });\n      }\n      if (_options.height) {\n        meta2.push({ property: \"og:image:height\", content: _options.height });\n        meta2.push({ name: \"twitter:image:height\", content: _options.height });\n      }\n      if (_options.alt) {\n        meta2.push({ property: \"og:image:alt\", content: _options.alt });\n        meta2.push({ name: \"twitter:image:alt\", content: _options.alt });\n      }\n      useServerHead({ meta: meta2 }, {\n        // after async scripts when capo.js is enabled\n        tagPriority: 35\n      });\n      return;\n    }\n    const { defaults } = useRuntimeConfig()[\"nuxt-og-image\"];\n    const options = normaliseOgImageOptions(_options);\n    const optionsWithDefault = defu(options, defaults);\n    const src = withSiteUrl(joinURL(useRouter().currentRoute.value?.path || \"\", \"/__og_image__/og.png\"));\n    const meta = [\n      { property: \"og:image\", content: src },\n      { property: \"og:image:width\", content: optionsWithDefault.width },\n      { property: \"og:image:height\", content: optionsWithDefault.height },\n      { property: \"og:image:type\", content: \"image/png\" }\n    ];\n    if (options.alt)\n      meta.push({ property: \"og:image:alt\", content: optionsWithDefault.alt });\n    meta.push(...[\n      { name: \"twitter:card\", content: \"summary_large_image\" },\n      { name: \"twitter:image:src\", content: src },\n      { name: \"twitter:image:width\", content: optionsWithDefault.width },\n      { name: \"twitter:image:height\", content: optionsWithDefault.height }\n    ]);\n    if (options.alt)\n      meta.push({ name: \"twitter:image:alt\", content: optionsWithDefault.alt });\n    useServerHead({\n      meta,\n      script: [\n        {\n          id: \"nuxt-og-image-options\",\n          type: \"application/json\",\n          processTemplateParams: true,\n          innerHTML: () => {\n            const payload = {\n              title: \"%s\"\n            };\n            Object.entries(options).forEach(([key, val]) => {\n              payload[key.replace(/-([a-z])/g, (g) => g[1].toUpperCase())] = val;\n            });\n            return payload;\n          },\n          // we want this to be last in our head\n          tagPosition: \"bodyClose\"\n        }\n      ]\n    }, {\n      // after async scripts when capo.js is enabled\n      tagPriority: 35\n    });\n  }\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}
import{_ as K,a as Q}from"./D7igYmKc.js";import{_ as W}from"./BOGRlpBd.js";import{a4 as R,aL as X,a5 as z,d as j,a7 as L,a8 as x,c as b,aM as Y,aN as Z,ab as A,y as ee,m as U,L as T,aO as te,aP as ae,aQ as D,aR as se,R as i,S as c,U as m,u as t,a0 as f,ad as $,a1 as p,W as u,X as C,Z as v,$ as y,a3 as G,V as O,F,Y as q,aS as ne,aK as re,aB as V,aC as ie,aD as le,aE as I,ay as oe,aG as M}from"./D8UErqBy.js";const ue={wrapper:"inline-flex flex-row-reverse justify-end",ring:"ring-2 ring-white dark:ring-gray-900",margin:"-me-1.5 first:me-0"},E=R(z.ui.strategy,z.ui.avatar,X),ce=R(z.ui.strategy,z.ui.avatarGroup,ue),de=j({inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(E.size).includes(e)}},max:{type:Number,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:n}){const{ui:s,attrs:l}=L("avatarGroup",x(e,"ui"),ce,x(e,"class")),a=b(()=>Y(n)),o=b(()=>typeof e.max=="string"?parseInt(e.max,10):e.max),_=b(()=>a.value.map((h,r)=>{const d={};return!e.max||o.value&&r<o.value?(e.size&&(d.size=e.size),d.class=h.props.class||"",d.class=Z(A(d.class,s.value.ring,s.value.margin),d.class),ee(h,d)):o.value!==void 0&&r===o.value?U(T,{size:e.size||E.default.size,text:`+${a.value.length-o.value}`,class:A(s.value.ring,s.value.margin)}):null}).filter(Boolean).reverse());return()=>U("div",{class:s.value.wrapper,...l.value},_.value)}}),ge=C("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),me=C("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),fe=["datetime"],pe=j({inheritAttrs:!1,__name:"BlogPost",props:{...te,title:{type:String,default:void 0},description:{type:String,default:void 0},date:{type:[String,Date],default:void 0},image:{type:[String,Object],default:void 0},badge:{type:Object,default:void 0},authors:{type:Array,default:void 0},orientation:{type:String,default:"vertical"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const n=ae(),s=e,l=b(()=>({wrapper:A("relative group flex flex-col w-full gap-y-6",s.orientation==="horizontal"&&(s.image||n.image)?"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-center":void 0),image:{wrapper:"ring-1 ring-gray-200 dark:ring-gray-800 relative overflow-hidden aspect-[16/9] w-full rounded-lg pointer-events-none",base:"object-cover object-top w-full h-full transform transition-transform duration-200 group-hover:scale-105"},container:"flex flex-col justify-between flex-1",inner:"flex-1",badge:{wrapper:"mb-3",base:""},title:"text-gray-900 dark:text-white text-xl font-semibold truncate group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200",description:"text-base text-gray-500 dark:text-gray-400 mt-1",date:"text-sm text-gray-500 dark:text-gray-400 font-medium pointer-events-none",authors:{wrapper:"relative flex items-center gap-x-3 mt-4",avatar:{base:"relative ring-1 lg:hover:scale-105 lg:hover:ring-primary-500 dark:lg:hover:ring-primary-400 transition-transform",size:"xs"}}})),{ui:a,attrs:o}=L("blog.post",x(s,"ui"),l,x(s,"class"),!0),_=b(()=>D(s)),h=b(()=>(s.title||n.title&&se(n.title())||"Post link").trim());return(r,d)=>{var P;const B=W,k=ne,g=re,w=T,H=de;return i(),c("article",p({class:t(a).wrapper},t(o)),[e.image||r.$slots.image?(i(),c("div",{key:0,class:m(t(a).image.wrapper)},[f(r.$slots,"image",{},()=>[$(B,p(typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:t(a).image.base}),null,16,["class"])])],2)):u("",!0),C("div",{class:m(t(a).container)},[C("div",{class:m(t(a).inner)},[r.to?(i(),v(k,p({key:0,"aria-label":t(h)},t(_),{class:"focus:outline-none",tabindex:"-1"}),{default:y(()=>[ge]),_:1},16,["aria-label"])):u("",!0),e.badge||r.$slots.badge?(i(),c("div",{key:1,class:m(t(a).badge.wrapper)},[f(r.$slots,"badge",{},()=>[e.badge?(i(),v(g,p({key:0},{variant:"subtle",...e.badge},{class:t(a).badge.base}),null,16,["class"])):u("",!0)])],2)):u("",!0),e.title||r.$slots.title?(i(),c("h2",{key:2,class:m(t(a).title)},[f(r.$slots,"title",{},()=>[G(O(e.title),1)])],2)):u("",!0),e.description||r.$slots.description?(i(),c("p",{key:3,class:m(t(a).description)},[f(r.$slots,"description",{},()=>[G(O(e.description),1)])],2)):u("",!0),f(r.$slots,"default")],2),(P=e.authors)!=null&&P.length||e.date?(i(),c("div",{key:0,class:m(t(a).authors.wrapper)},[f(r.$slots,"authors",{},()=>{var N;return[(N=e.authors)!=null&&N.length?(i(),v(H,{key:0},{default:y(()=>[(i(!0),c(F,null,q(e.authors,(S,J)=>(i(),v(w,p({key:J,alt:S.name,class:t(a).authors.avatar.base},{size:t(a).authors.avatar.size,...S.avatar}),{default:y(()=>[S.to?(i(),v(k,p({key:0},{target:"_blank",...t(D)(S)},{class:"focus:outline-none",tabindex:"-1"}),{default:y(()=>[me]),_:2},1040)):u("",!0)]),_:2},1040,["alt","class"]))),128))]),_:1})):u("",!0)]}),f(r.$slots,"date",{},()=>[e.date?(i(),c("time",{key:0,datetime:new Date(e.date).toISOString(),class:m(t(a).date)},O(e.date),11,fe)):u("",!0)])],2)):u("",!0)],2)],16)}}}),ve=j({inheritAttrs:!1,__name:"BlogList",props:{orientation:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const n=e,s=b(()=>({wrapper:{horizontal:"flex flex-col lg:grid lg:grid-cols-3 gap-x-8 gap-y-16",vertical:"flex flex-col gap-y-16 w-full"}[n.orientation]})),{ui:l,attrs:a}=L("blog.list",x(n,"ui"),s,x(n,"class"),!0);return(o,_)=>(i(),c("div",p({class:t(l).wrapper},t(a)),[f(o.$slots,"default")],16))}}),xe=j({__name:"index",async setup(e){let n,s;const{data:l}=([n,s]=V(()=>I("blog",()=>M("/blog").findOne())),n=await n,s(),n);if(!l.value)throw ie({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:a}=([n,s]=V(()=>I("posts",()=>M("/blog").where({_extension:"md"}).sort({date:-1}).find())),n=await n,s(),n);return le({title:l.value.title,ogTitle:l.value.title,description:l.value.description,ogDescription:l.value.description}),(o,_)=>{const h=K,r=pe,d=ve,B=Q,k=oe;return i(),v(k,null,{default:y(()=>[$(h,p(t(l),{class:"py-[50px]"}),null,16),$(B,null,{default:y(()=>[$(d,null,{default:y(()=>[(i(!0),c(F,null,q(t(a),(g,w)=>(i(),v(r,{key:w,to:g._path,title:g.title,description:g.description,image:g.image,date:new Date(g.date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"}),authors:g.authors,badge:g.badge,orientation:w===0?"horizontal":"vertical",class:m([w===0&&"col-span-full"]),ui:{description:"line-clamp-2"}},null,8,["to","title","description","image","date","authors","badge","orientation","class"]))),128))]),_:1})]),_:1})]),_:1})}}});export{xe as default};
